<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rate Our Business - Get More Reviews</title>
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <style>
        .config-section {
            z-index: 100; 
            position: relative;
        }
    </style>
</head>
<body>
    <!-- Main Landing Page (shown when visiting the root domain) -->
    <div class="landing-page" id="landingPage">
        <div class="landing-container">
            <div class="landing-content">
                <h1>Rate Our Business</h1>
                <h2>Helping Local Businesses<br>Get More 5-Star Reviews</h2>
                
                <p class="intro-text">It's never been easier to get more customer reviews.</p>
                
                <div class="feature-list">
                    <div class="feature">
                        <h3>Send By Text</h3>
                        <p>A prefilled message with your review link is ready to send.</p>
                    </div>
                    
                    <div class="feature">
                        <h3>Send By Email</h3>
                        <p>An email is ready to go with your review link. All you need to do is type in your customer's email address.</p>
                    </div>
                    
                    <div class="feature">
                        <h3>QR Code</h3>
                        <p>If you're in-person with your customer, click your Scan QR Code button and a QR code pops up for your customer to scan. They'll go straight to Google to leave you a review.</p>
                    </div>
                </div>
            </div>
            
            <div class="phone-preview">
                <div class="phone-frame">
                    <div class="phone-screen">
                        <div class="app-preview">
                            <div class="app-logo">
                                <img src="favicons/logo.jpg" alt="Rate Our Business Logo" class="logo-img">
                            </div>
                            <h3 class="app-title">Rate Our Business</h3>
                            <p class="app-subtitle">Ask For A Review</p>
                            
                            <button class="preview-btn">Send By Text</button>
                            <button class="preview-btn">Send By Email</button>
                            <button class="preview-btn">Scan QR Code</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Client App (shown when visiting a business-specific URL) -->
    <div class="container" id="clientApp" style="display: none;">
        <div class="logo-container">
            <div class="logo">
                <img src="favicons/logo.jpg" alt="Rate Our Business Logo" class="logo-img">
            </div>
            <h1 class="app-title">Rate Our Business</h1>
            <p class="business-name" id="businessNameDisplay">Your Business Name</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        </div>

        <div class="button-container">
            <a href="#" class="btn btn-primary" id="sendTextBtn">
                <span class="btn-icon">üí¨</span> Send By Text
            </a>
            <a href="#" class="btn btn-secondary" id="sendEmailBtn">
                <span class="btn-icon">‚úâÔ∏è</span> Send By Email
            </a>
            <button class="btn btn-accent" id="showQRBtn">
                <span class="btn-icon">üì±</span> Scan QR Code
            </button>
        </div>

        <div class="short-link">
            <p>Share this link:</p>
            <p><a href="#" class="link" id="shortLinkDisplay">https://yourshortlink.com/business</a></p>
            <button class="copy-btn" id="copyLinkBtn">Copy</button>
        </div>

        <!-- QR Code Modal -->
        <div id="qrModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Scan to Leave a Review</h2>
                <div id="qrCode"></div>
                <p>Scan with your phone camera</p>
            </div>
        </div>

        <!-- Hidden Admin Configuration Section -->
        <div class="config-section" id="configSection" style="display: none;">
            <h2>Admin Configuration</h2>
            <div id="adminLogin" class="admin-login-form">
                <div class="form-group">
                    <label for="adminPassword">Admin Password:</label>
                    <input type="password" id="adminPassword" placeholder="Enter admin password">
                </div>
                <button type="button" class="btn" id="loginBtn">Login</button>
            </div>
        
            <div id="configForm" style="display: none;">
                <div class="form-group">
                    <label for="businessName">Business Name:</label>
                    <input type="text" id="businessName" placeholder="Your Business Name">
                </div>
                <div class="form-group">
                    <label for="placeId">Google Place ID:</label>
                    <input type="text" id="placeId" placeholder="ChIJxxx_xxx">
                    <p class="help-text">Find Place ID at 
                        <a href="https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder" 
                        target="_blank">Google's Place ID Finder</a>
                    </p>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="serviceBasedCheckbox"> This is a service-based business (no physical address)
                    </label>
                </div>
                <div class="form-group" id="alternativeReviewUrlGroup" style="display: none;">
                    <label for="alternativeReviewUrl">Alternative Review URL:</label>
                    <input type="text" id="alternativeReviewUrl" placeholder="https://trustpilot.com/your-business">
                    <p class="help-text">For businesses without a Google Place ID, provide another URL where customers can leave reviews (e.g., Trustpilot, your website, etc.)</p>
                </div>
                <div class="form-group">
                    <label for="shortPath">Short Link Path:</label>
                    <input type="text" id="shortPath" placeholder="businessname">
                </div>
                <div class="form-group">
                    <label for="emailSubject">Email Subject:</label>
                    <input type="text" id="emailSubject" placeholder="We'd love your feedback!">
                </div>
                <div class="form-group">
                    <label for="messageText">Message Text:</label>
                    <textarea id="messageText" placeholder="Thanks for choosing us! We'd appreciate if you could take a moment to leave us a review."></textarea>
                </div>
                <button type="button" class="btn" id="saveConfig">Save Configuration</button>
                <button type="button" class="btn" id="hideConfig">Hide Configuration</button>
            </div>
        </div>

    </div>
    <footer class="site-footer">
        <p>Rate Our Business is a <a href="https://hussainwebdesigns.co.uk" target="_blank" class="footer-link">Hussain Web Designs</a> product.</p>
        <a href="javascript:void(0);" onclick="showAdminPanel();" id="adminPanelBtn" class="admin-link">Admin</a>
    </footer>

    <div id="toast" class="toast"></div>

    <script>
      function showAdminPanel() {
        console.log("Admin panel button clicked");
        const configSection = document.getElementById('configSection');
        if (configSection) {
          // Force style with !important
          configSection.setAttribute('style', 'display: block !important');
          
          // Make sure it's visible
          configSection.style.opacity = '1';
          configSection.style.visibility = 'visible';
          
          // Try to scroll to it
          setTimeout(() => {
            configSection.scrollIntoView({behavior:'smooth', block: 'start'});
          }, 100);
        }
      }
      
      // Also add event listener to the Admin button in case onclick doesn't work
      document.addEventListener('DOMContentLoaded', function() {
        const adminBtn = document.querySelector('.admin-link');
        if (adminBtn) {
          adminBtn.addEventListener('click', showAdminPanel);
          console.log("Added event listener to admin button");
        } else {
          console.log("Admin button not found");
        }
      });
    </script>
</body>
</html>